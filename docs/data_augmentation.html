

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>data_augmentation module &mdash; Classification of Cat Vocalizations  documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="deep_learning module" href="deep_learning.html" />
    <link rel="prev" title="Scripts" href="modules.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Classification of Cat Vocalizations
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">Scripts</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">data_augmentation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="deep_learning.html">deep_learning module</a></li>
<li class="toctree-l2"><a class="reference internal" href="feature_extraction.html">feature_extraction module</a></li>
<li class="toctree-l2"><a class="reference internal" href="file_management.html">file_management module</a></li>
<li class="toctree-l2"><a class="reference internal" href="main.html">main module</a></li>
<li class="toctree-l2"><a class="reference internal" href="plots.html">plots module</a></li>
<li class="toctree-l2"><a class="reference internal" href="standard_machine_learning.html">standard_machine_learning module</a></li>
<li class="toctree-l2"><a class="reference internal" href="var.html">var module</a></li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Classification of Cat Vocalizations</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="modules.html">Scripts</a> &raquo;</li>
        
      <li>data_augmentation module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/data_augmentation.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-data_augmentation">
<span id="data-augmentation-module"></span><h1>data_augmentation module<a class="headerlink" href="#module-data_augmentation" title="Permalink to this headline">¶</a></h1>
<p>Module for data augmentation</p>
<dl class="py function">
<dt class="sig sig-object py" id="data_augmentation.add_noise">
<span class="sig-prename descclassname"><span class="pre">data_augmentation.</span></span><span class="sig-name descname"><span class="pre">add_noise</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename_orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_save</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augmentation_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#data_augmentation.add_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Add white gaussian noise to audio time series, and save the augmented time series as .wav sound file to the specified path, the noise factor is generated randomly with <cite>0.2*np.random.uniform()*np.amax(y)</cite></p>
<blockquote>
<div><dl class="simple">
<dt>y (np.ndarray): </dt><dd><p>audio time series</p>
</dd>
<dt>sr (float): </dt><dd><p>sampling rate</p>
</dd>
<dt>filename_orig (str): </dt><dd><p>filename of the given audio time series</p>
</dd>
<dt>save (bool): </dt><dd><p>if True: the augmented soundfile is saved to the path_to_save with the extended filename as a .wav file</p>
</dd>
<dt>path_to_save (str): </dt><dd><p>filepath where the augmented sound file</p>
</dd>
<dt>augmentation_history (dict, optional): </dt><dd><p>Dictonary with a augmentation history of the audio time series,
if the time series comes directly from the original dataset the dict should be empty, 
if the time series has been previously augmented the dict should contain the augmentation method as key and the parameters as values. 
Defaults to {}.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>y_pitch (np.ndarray): </dt><dd><p>augmented audio time series with a shifted pitch by a random factor between -2.5 and 2.5</p>
</dd>
<dt>y_pitch_filename (str):</dt><dd><p>filename of the augmented sound file, filename_orig is extended with ‘_PS’ (for pitch shift) and the shift factor</p>
</dd>
<dt>augmentation_history (dict):</dt><dd><p>the given augmentation history is extended with ‘pitch_shift’ as key and the generated shift factor as value</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="data_augmentation.data_augmentation">
<span class="sig-prename descclassname"><span class="pre">data_augmentation.</span></span><span class="sig-name descname"><span class="pre">data_augmentation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path_original_dataset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Data/cropped_dataset/'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_single_augmentation_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number_of_double_augmentation_iterations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#data_augmentation.data_augmentation" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform data augmentation on a dataset, for this the functions speed_change, pitch_shift, dynamic_range_compression and add_noise are used, 
the augmented samples are added to the dataframe
There is a single augmentation loop and a double augmentation loop</p>
<p>In each iteration of the single augmentation loop, each sample of the orignial dataset is augmented with each augmentation technique.
So in each iteratin of the single augmentation loop the dateset is increased by factor 4.
The results of each iteration are saved into different folders and each folder contains 440*4=1.760 augmented samples.</p>
<p>In each Iteration of the double augmentation loop each sample of the original dataset is augmented with each combination of 2 techniques, there are 12 possible combinations of the 4 techniques.
So in each iteratin of the double augmentation loop the dateset is increased by factor 12.
The results of each iteration are saved into different folders and each folder contains 440*12=5.280 augmented samples.</p>
<blockquote>
<div><dl class="simple">
<dt>path_original_dataset (str, optional): </dt><dd><p>Path to the original dataset, that should be augmented. Defaults to PATH_CROPPED_DATASET.</p>
</dd>
<dt>number_of_single_augmentation_iterations (int, optional): </dt><dd><p>Number of iterations the single augmentation loop is performed
If <cite>number_of_single_augmentation_iterations=1</cite> the dataset is increased by factor 4. Defaults to 2.</p>
</dd>
<dt>number_of_double_augmentation_iterations (int, optional): </dt><dd><p>Number of iterations the double augmentation loop is performed
If <cite>number_of_double_augmentation_iterations=1</cite> the dataset is increased by factor 12 and saved into 1 folder.
Defaults to 2.</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="data_augmentation.dynamic_range_compression">
<span class="sig-prename descclassname"><span class="pre">data_augmentation.</span></span><span class="sig-name descname"><span class="pre">dynamic_range_compression</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename_orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_save</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augmentation_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#data_augmentation.dynamic_range_compression" title="Permalink to this definition">¶</a></dt>
<dd><p>Dynamic range compression of audio time series, and save the augmented time series as .wav sound file to the specified path, 
the parameters of the compression are randomly chosen from presets in the muda library, possible presets are “radio”, “film standard”, “music standard” and “speech”</p>
<blockquote>
<div><dl class="simple">
<dt>y (np.ndarray): </dt><dd><p>audio time series</p>
</dd>
<dt>sr (float): </dt><dd><p>sampling rate</p>
</dd>
<dt>filename_orig (str): </dt><dd><p>filename of the given audio time series</p>
</dd>
<dt>save (bool): </dt><dd><p>if True: the augmented soundfile is saved to the path_to_save with the extended filename as a .wav file</p>
</dd>
<dt>path_to_save (str): </dt><dd><p>filepath where the augmented sound file</p>
</dd>
<dt>augmentation_history (dict, optional): </dt><dd><p>Dictonary with a augmentation history of the audio time series,
if the time series comes directly from the original dataset the dict should be empty, 
if the time series has been previously augmented the dict should contain the augmentation method as key and the parameters as values. 
Defaults to {}.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>y_drc (np.ndarray): </dt><dd><p>audio time series augmented  with dynamic range compression</p>
</dd>
<dt>y_pitch_filename (str):</dt><dd><p>filename of the augmented sound file, filename_orig is extended with ‘_DRC’ (for dynamic range compression) and compression presets</p>
</dd>
<dt>augmentation_history (dict):</dt><dd><p>the given augmentation history is extended with ‘dynamic_range_compression’ as key and the preset of the compression algorithm as value</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="data_augmentation.pitch_shift">
<span class="sig-prename descclassname"><span class="pre">data_augmentation.</span></span><span class="sig-name descname"><span class="pre">pitch_shift</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename_orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_save</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augmentation_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#data_augmentation.pitch_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the pitch of audio time series, and save the augmented time series as .wav sound file to the specified path, the shift steps are generated randomly between -2.5 and 2.5</p>
<blockquote>
<div><dl class="simple">
<dt>y (np.ndarray): </dt><dd><p>audio time series</p>
</dd>
<dt>sr (float): </dt><dd><p>sampling rate</p>
</dd>
<dt>filename_orig (str): </dt><dd><p>filename of the given audio time series</p>
</dd>
<dt>save (bool): </dt><dd><p>if True: the augmented soundfile is saved to the path_to_save with the extended filename as a .wav file</p>
</dd>
<dt>path_to_save (str): </dt><dd><p>filepath where the augmented sound file</p>
</dd>
<dt>augmentation_history (dict, optional): </dt><dd><p>Dictonary with a augmentation history of the audio time series,
if the time series comes directly from the original dataset the dict should be empty, 
if the time series has been previously augmented the dict should contain the augmentation method as key and the parameters as values. 
Defaults to {}.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>y_pitch (np.ndarray): </dt><dd><p>augmented audio time series with a shifted pitch by a random factor between -2.5 and 2.5</p>
</dd>
<dt>y_pitch_filename (str):</dt><dd><p>filename of the augmented sound file, filename_orig is extended with ‘_PS’ (for pitch shift) and the shift factor</p>
</dd>
<dt>augmentation_history (dict):</dt><dd><p>the given augmentation history is extended with ‘pitch_shift’ as key and the generated shift factor as value</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="data_augmentation.speed_change">
<span class="sig-prename descclassname"><span class="pre">data_augmentation.</span></span><span class="sig-name descname"><span class="pre">speed_change</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename_orig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path_to_save</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">augmentation_history</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#data_augmentation.speed_change" title="Permalink to this definition">¶</a></dt>
<dd><p>Change speed of audio time series, and save the augmented time series as .wav sound file to the specified path, the speed change factor is generated randomly between 0.8 and 1.2</p>
<blockquote>
<div><dl class="simple">
<dt>y (np.ndarray): </dt><dd><p>audio time series</p>
</dd>
<dt>sr (float): </dt><dd><p>sampling rate</p>
</dd>
<dt>filename_orig (str): </dt><dd><p>filename of the given audio time series</p>
</dd>
<dt>save (bool): </dt><dd><p>if True: the augmented soundfile is saved to the path_to_save with the extended filename as a .wav file</p>
</dd>
<dt>path_to_save (str): </dt><dd><p>filepath where the augmented sound file</p>
</dd>
<dt>augmentation_history (dict, optional): </dt><dd><p>Dictonary with a augmentation history of the audio time series,
if the time series comes directly from the original dataset the dict should be empty, 
if the time series has been previously augmented the dict should contain the augmentation method as key and the parameters as values. 
Defaults to {}.</p>
</dd>
</dl>
</div></blockquote>
<blockquote>
<div><dl class="simple">
<dt>y_speed (np.ndarray): </dt><dd><p>augmented audio time series streched by a random rate between 0.8 and 1.2</p>
</dd>
<dt>y_speed_filename (str):</dt><dd><p>filename of the augmented sound file, filename_orig is extended with ‘_SC’ (for speed change) and the speed change factor</p>
</dd>
<dt>augmentation_history (dict):</dt><dd><p>the given augmentation history is extended with ‘speed_change’ as key and the generated speed factor as value</p>
</dd>
</dl>
</div></blockquote>
</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="deep_learning.html" class="btn btn-neutral float-right" title="deep_learning module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="modules.html" class="btn btn-neutral float-left" title="Scripts" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Matthias Marquart and Lukas Allimant.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>